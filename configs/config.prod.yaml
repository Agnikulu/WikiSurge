# Production Configuration
server:
  port: 8080
  host: "0.0.0.0"
  read_timeout: "15s"
  write_timeout: "15s"
  idle_timeout: "60s"

kafka:
  brokers:
    - "kafka-1:9092"
    - "kafka-2:9092"
    - "kafka-3:9092"
  topics:
    wikipedia_changes: "wikipedia-changes"
    hot_pages: "hot-pages"
    alerts: "alerts"
  consumer_group: "wikisurge-prod"
  batch_size: 1000
  flush_interval: "5s"

redis:
  host: "redis-cluster"
  port: 6379
  db: 0
  ttl: "24h"
  pool_size: 20
  idle_timeout: "5m"

elasticsearch:
  hosts:
    - "http://es-1:9200"
    - "http://es-2:9200"
    - "http://es-3:9200"
  index_prefix: "wikisurge-prod"
  bulk_size: 1000
  flush_interval: "10s"
  replicas: 2
  shards: 3

metrics:
  port: 2112
  path: "/metrics"

logging:
  level: "info"
  format: "json"

wikipedia:
  sse_url: "https://stream.wikimedia.org/v2/stream/recentchange"
  rate_limit: 1000
  timeout: "30s"
  retry_attempts: 3
  retry_delay: "5s"

alerting:
  enabled: true
  thresholds:
    ingestion_rate_low: 10
    kafka_lag_high: 10000
    memory_usage_high: 90
    disk_usage_high: 80